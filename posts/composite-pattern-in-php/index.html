<!doctype html><html class="not-ready text-sm lg:text-base" style=--bg:#faf6f1 lang=en-us><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><title>PHP Design Patterns: Composite Pattern - Wern Ancheta</title><meta name=theme-color><meta name=description content="This is the eleventh post in a series of articles that will walk you through how to implement design patterns in PHP.
In this part, we&rsquo;re going to take a look at how you can implement the Composite Pattern.
This pattern is used for treating a group of objects the same way you treat any single instance of the object. This is most commonly used for building UI, specifically tree structures which has varying levels of nesting."><meta name=author content="Wern Ancheta"><link rel="preload stylesheet" as=style href=https://anchetaWern.github.io/main.min.css><link rel=preload as=image href=https://anchetaWern.github.io/theme.png><link rel=preload as=image href=https://anchetaWern.github.io/twitter.svg><link rel=preload as=image href=https://anchetaWern.github.io/github.svg><link rel=preload as=image href=https://anchetaWern.github.io/instagram.svg><link rel=preload as=image href=https://anchetaWern.github.io/rss.svg><link rel=icon href=https://anchetaWern.github.io/favicon.ico><link rel=apple-touch-icon href=https://anchetaWern.github.io/apple-touch-icon.png><meta name=generator content="Hugo 0.110.0"><meta property="og:title" content="PHP Design Patterns: Composite Pattern"><meta property="og:description" content="This is the eleventh post in a series of articles that will walk you through how to implement design patterns in PHP.
In this part, we&rsquo;re going to take a look at how you can implement the Composite Pattern.
This pattern is used for treating a group of objects the same way you treat any single instance of the object. This is most commonly used for building UI, specifically tree structures which has varying levels of nesting."><meta property="og:type" content="article"><meta property="og:url" content="https://anchetaWern.github.io/posts/composite-pattern-in-php/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-03-19T00:00:00+00:00"><meta property="article:modified_time" content="2023-03-19T00:00:00+00:00"><meta itemprop=name content="PHP Design Patterns: Composite Pattern"><meta itemprop=description content="This is the eleventh post in a series of articles that will walk you through how to implement design patterns in PHP.
In this part, we&rsquo;re going to take a look at how you can implement the Composite Pattern.
This pattern is used for treating a group of objects the same way you treat any single instance of the object. This is most commonly used for building UI, specifically tree structures which has varying levels of nesting."><meta itemprop=datePublished content="2023-03-19T00:00:00+00:00"><meta itemprop=dateModified content="2023-03-19T00:00:00+00:00"><meta itemprop=wordCount content="692"><meta itemprop=keywords content><meta name=twitter:card content="summary"><meta name=twitter:title content="PHP Design Patterns: Composite Pattern"><meta name=twitter:description content="This is the eleventh post in a series of articles that will walk you through how to implement design patterns in PHP.
In this part, we&rsquo;re going to take a look at how you can implement the Composite Pattern.
This pattern is used for treating a group of objects the same way you treat any single instance of the object. This is most commonly used for building UI, specifically tree structures which has varying levels of nesting."></head><body class="text-black duration-200 ease-out dark:text-white"><header class="mx-auto flex h-[5rem] max-w-3xl px-8 lg:justify-center"><div class="relative z-50 mr-auto flex items-center"><a class="-translate-x-[1px] -translate-y-0.5 text-3xl font-bold" href=https://anchetaWern.github.io/>Wern Ancheta</a>
<a class="btn-dark ml-6 h-6 w-6 shrink-0 cursor-pointer [background:url(./theme.svg)_left_center/cover_no-repeat] dark:invert dark:[background-position:right]"></a></div><a class="btn-menu relative z-50 -mr-8 flex h-[5rem] w-[5rem] shrink-0 cursor-pointer flex-col items-center justify-center gap-2.5 lg:hidden"></a>
<script>const htmlClass=document.documentElement.classList;setTimeout(()=>{htmlClass.remove("not-ready")},10);const btnMenu=document.querySelector(".btn-menu");btnMenu.addEventListener("click",()=>{htmlClass.toggle("open")});const metaTheme=document.querySelector('meta[name="theme-color"]'),lightBg=`"#faf6f1"`.replace(/"/g,""),setDark=e=>{metaTheme.setAttribute("content",e?"#000":lightBg),htmlClass[e?"add":"remove"]("dark"),localStorage.setItem("dark",e)},darkScheme=window.matchMedia("(prefers-color-scheme: dark)");if(htmlClass.contains("dark"))setDark(!0);else{const e=localStorage.getItem("dark");setDark(e?e==="true":darkScheme.matches)}darkScheme.addEventListener("change",e=>{setDark(e.matches)});const btnDark=document.querySelector(".btn-dark");btnDark.addEventListener("click",()=>{setDark(localStorage.getItem("dark")!=="true")})</script><div class="nav-wrapper fixed inset-x-0 top-full z-40 flex h-full select-none flex-col justify-center pb-16 duration-200 dark:bg-black lg:static lg:h-auto lg:flex-row lg:!bg-transparent lg:pb-0 lg:transition-none"><nav class="mt-12 flex justify-center space-x-10 dark:invert lg:mt-0 lg:ml-12 lg:items-center lg:space-x-6"><a class="h-8 w-8 [background:var(--url)_center_center/cover_no-repeat] lg:h-6 lg:w-6" style=--url:url(./twitter.svg) href=https://twitter.com/wernancheta target=_blank></a>
<a class="h-8 w-8 [background:var(--url)_center_center/cover_no-repeat] lg:h-6 lg:w-6" style=--url:url(./github.svg) href=https://github.com/anchetaWern target=_blank></a>
<a class="h-8 w-8 [background:var(--url)_center_center/cover_no-repeat] lg:h-6 lg:w-6" style=--url:url(./instagram.svg) href=https://instagram.com/wernancheta target=_blank></a>
<a class="h-8 w-8 [background:var(--url)_center_center/cover_no-repeat] lg:h-6 lg:w-6" style=--url:url(./rss.svg) href=https://anchetaWern.github.io/index.xml target=_blank></a></nav></div></header><main class="prose prose-neutral relative mx-auto min-h-[calc(100%-10rem)] max-w-3xl px-8 pt-20 pb-32 dark:prose-invert"><article><header class=mb-20><h1 class="!my-0 pb-2.5">PHP Design Patterns: Composite Pattern</h1><div class="text-sm opacity-60"><time>Mar 19, 2023</time>
<span class=mx-1>&#183;</span>
<span>Wern Ancheta</span></div></header><section><p>This is the eleventh post in a series of articles that will walk you through how to implement design patterns in PHP.</p><p>In this part, we&rsquo;re going to take a look at how you can implement the Composite Pattern.</p><p>This pattern is used for treating a group of objects the same way you treat any single instance of the object. This is most commonly used for building UI, specifically tree structures which has varying levels of nesting. It&rsquo;s also used for logging, so you can either log a single lines or multiple lines based on the current type of logger.</p><p>The basic idea is to have both the group and the individual object abide to the same interface or abstract class so that they&rsquo;re treated the same way:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#f92672>&lt;?</span><span style=color:#a6e22e>php</span> 
</span></span><span style=display:flex><span><span style=color:#75715e>// compositepattern/app/MenuInterface.php
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>namespace</span> <span style=color:#a6e22e>CompositePattern\App</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>interface</span> <span style=color:#a6e22e>MenuInterface</span> 
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>function</span> <span style=color:#a6e22e>render</span>() <span style=color:#f92672>:</span> <span style=color:#66d9ef>array</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Now create another class which will implement it. Here we&rsquo;re creating a Menu class which allows the user to add another instance of a Menu to it (<code>add</code> method) and also allows for rendering all the menus that were added to it (the <code>render</code> method). Usually you will output something here, but we&rsquo;re constructing an array instead so that we can easily test it out:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#f92672>&lt;?</span><span style=color:#a6e22e>php</span> 
</span></span><span style=display:flex><span><span style=color:#75715e>// compositepattern/app/Menu.php
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>namespace</span> <span style=color:#a6e22e>CompositePattern\App</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Menu</span> <span style=color:#66d9ef>implements</span> <span style=color:#a6e22e>MenuInterface</span>
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>array</span> $menu_items;
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>function</span> __construct(<span style=color:#66d9ef>public</span> <span style=color:#a6e22e>string</span> $title)
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        $this<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>menu_items</span> <span style=color:#f92672>=</span> [];
</span></span><span style=display:flex><span>    }   
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>function</span> <span style=color:#a6e22e>add</span>(<span style=color:#a6e22e>MenuInterface</span> $link)
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        $this<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>menu_items</span>[] <span style=color:#f92672>=</span> $link;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>function</span> <span style=color:#a6e22e>render</span>() <span style=color:#f92672>:</span> <span style=color:#66d9ef>array</span>
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        $menu <span style=color:#f92672>=</span> [
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#39;title&#39;</span> <span style=color:#f92672>=&gt;</span> $this<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>title</span>,
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#39;items&#39;</span> <span style=color:#f92672>=&gt;</span> [],
</span></span><span style=display:flex><span>        ];
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>foreach</span> ($this<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>menu_items</span> <span style=color:#66d9ef>as</span> $link)
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>            $menu[<span style=color:#e6db74>&#39;items&#39;</span>][] <span style=color:#f92672>=</span> $link<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>render</span>();
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> $menu;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>} 
</span></span></code></pre></div><p>Zoom in to this part right here. This is where the magic happens:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#66d9ef>foreach</span> ($this<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>menu_items</span> <span style=color:#66d9ef>as</span> $link)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    $menu[<span style=color:#e6db74>&#39;items&#39;</span>][] <span style=color:#f92672>=</span> $link<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>render</span>();
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>We don&rsquo;t have to check whether the <code>render</code> method exists because we&rsquo;ve implemented the <code>MenuInterface</code>. This is what allows us to nest in varying levels.</p><p>Lastly, we have the link. Think of this as the individual leaves on a stem. This represents the individual items in a menu. For its <code>render</code> method, we&rsquo;re simply returning an array containing the <code>link</code> and <code>text</code> passed to its constructor when an object is initialized:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#f92672>&lt;?</span><span style=color:#a6e22e>php</span> 
</span></span><span style=display:flex><span><span style=color:#75715e>// compositepattern/app/Link.php
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>namespace</span> <span style=color:#a6e22e>CompositePattern\App</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Link</span> <span style=color:#66d9ef>implements</span> <span style=color:#a6e22e>MenuInterface</span>
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>function</span> __construct(<span style=color:#66d9ef>public</span> <span style=color:#a6e22e>string</span> $link, <span style=color:#66d9ef>public</span> <span style=color:#a6e22e>string</span> $text)
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>function</span> <span style=color:#a6e22e>render</span>() <span style=color:#f92672>:</span> <span style=color:#66d9ef>array</span>
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> [
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#39;link&#39;</span> <span style=color:#f92672>=&gt;</span> $this<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>link</span>,
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#39;text&#39;</span> <span style=color:#f92672>=&gt;</span> $this<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>text</span>,
</span></span><span style=display:flex><span>        ];
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>To test this out, let&rsquo;s create a single menu and attach two submenus to it. Each submenu will then have a number of menus attached to it, and each one has a link. We use the <code>add</code> method to link them together. Finally, calling the <code>render</code> method on the main menu will return every menu that was passed to it:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#f92672>&lt;?</span><span style=color:#a6e22e>php</span> 
</span></span><span style=display:flex><span><span style=color:#75715e>// compositepattern/CompositeTest.php
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>require_once</span> <span style=color:#66d9ef>__DIR__</span> <span style=color:#f92672>.</span> <span style=color:#e6db74>&#39;/../vendor/autoload.php&#39;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>use</span> <span style=color:#a6e22e>PHPUnit\Framework\TestCase</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>CompositeTest</span> <span style=color:#66d9ef>extends</span> <span style=color:#a6e22e>TestCase</span>
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>function</span> <span style=color:#a6e22e>test_composite</span>() <span style=color:#f92672>:</span> <span style=color:#a6e22e>void</span>
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        $main_menu <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>\CompositePattern\App\Menu</span>(<span style=color:#e6db74>&#39;Main&#39;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        $herbs_menu <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>\CompositePattern\App\Menu</span>(<span style=color:#e6db74>&#39;Herbs&#39;</span>);
</span></span><span style=display:flex><span>       
</span></span><span style=display:flex><span>        $herbs_menu<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>add</span>(<span style=color:#66d9ef>new</span> <span style=color:#a6e22e>\CompositePattern\App\Link</span>(<span style=color:#e6db74>&#39;/rosemary&#39;</span>, <span style=color:#e6db74>&#39;Rosemary&#39;</span>));
</span></span><span style=display:flex><span>        $herbs_menu<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>add</span>(<span style=color:#66d9ef>new</span> <span style=color:#a6e22e>\CompositePattern\App\Link</span>(<span style=color:#e6db74>&#39;/vietnamese-coriander&#39;</span>, <span style=color:#e6db74>&#39;Vietnamese Coriander&#39;</span>));
</span></span><span style=display:flex><span>        $herbs_menu<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>add</span>(<span style=color:#66d9ef>new</span> <span style=color:#a6e22e>\CompositePattern\App\Link</span>(<span style=color:#e6db74>&#39;/tarragon&#39;</span>, <span style=color:#e6db74>&#39;Tarragon&#39;</span>));
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        $leafygreens_menu <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>\CompositePattern\App\Menu</span>(<span style=color:#e6db74>&#39;Leafy Greens&#39;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        $leafygreens_menu<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>add</span>(<span style=color:#66d9ef>new</span> <span style=color:#a6e22e>\CompositePattern\App\Link</span>(<span style=color:#e6db74>&#39;/bokchoi&#39;</span>, <span style=color:#e6db74>&#39;Bokchoi&#39;</span>));
</span></span><span style=display:flex><span>        $leafygreens_menu<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>add</span>(<span style=color:#66d9ef>new</span> <span style=color:#a6e22e>\CompositePattern\App\Link</span>(<span style=color:#e6db74>&#39;/arugula&#39;</span>, <span style=color:#e6db74>&#39;Arugula&#39;</span>));
</span></span><span style=display:flex><span>        $leafygreens_menu<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>add</span>(<span style=color:#66d9ef>new</span> <span style=color:#a6e22e>\CompositePattern\App\Link</span>(<span style=color:#e6db74>&#39;/pechay&#39;</span>, <span style=color:#e6db74>&#39;Pechay&#39;</span>));
</span></span><span style=display:flex><span>        $leafygreens_menu<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>add</span>(<span style=color:#66d9ef>new</span> <span style=color:#a6e22e>\CompositePattern\App\Link</span>(<span style=color:#e6db74>&#39;/lettuce&#39;</span>, <span style=color:#e6db74>&#39;Lettuce&#39;</span>));
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        $main_menu<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>add</span>($herbs_menu);
</span></span><span style=display:flex><span>        $main_menu<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>add</span>($leafygreens_menu);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>       
</span></span><span style=display:flex><span>        $this<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>assertEquals</span>($main_menu<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>render</span>(), [
</span></span><span style=display:flex><span>            
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#39;title&#39;</span> <span style=color:#f92672>=&gt;</span> <span style=color:#e6db74>&#39;Main&#39;</span>,
</span></span><span style=display:flex><span>            <span style=color:#e6db74>&#39;items&#39;</span> <span style=color:#f92672>=&gt;</span> [
</span></span><span style=display:flex><span>                [
</span></span><span style=display:flex><span>                    <span style=color:#e6db74>&#39;title&#39;</span> <span style=color:#f92672>=&gt;</span> <span style=color:#e6db74>&#39;Herbs&#39;</span>,
</span></span><span style=display:flex><span>                    <span style=color:#e6db74>&#39;items&#39;</span> <span style=color:#f92672>=&gt;</span> [
</span></span><span style=display:flex><span>                        [
</span></span><span style=display:flex><span>                            <span style=color:#e6db74>&#39;link&#39;</span> <span style=color:#f92672>=&gt;</span> <span style=color:#e6db74>&#39;/rosemary&#39;</span>,
</span></span><span style=display:flex><span>                            <span style=color:#e6db74>&#39;text&#39;</span> <span style=color:#f92672>=&gt;</span> <span style=color:#e6db74>&#39;Rosemary&#39;</span>,
</span></span><span style=display:flex><span>                        ],
</span></span><span style=display:flex><span>                        [
</span></span><span style=display:flex><span>                            <span style=color:#e6db74>&#39;link&#39;</span> <span style=color:#f92672>=&gt;</span> <span style=color:#e6db74>&#39;/vietnamese-coriander&#39;</span>,
</span></span><span style=display:flex><span>                            <span style=color:#e6db74>&#39;text&#39;</span> <span style=color:#f92672>=&gt;</span> <span style=color:#e6db74>&#39;Vietnamese Coriander&#39;</span>,
</span></span><span style=display:flex><span>                        ],
</span></span><span style=display:flex><span>                        [
</span></span><span style=display:flex><span>                            <span style=color:#e6db74>&#39;link&#39;</span> <span style=color:#f92672>=&gt;</span> <span style=color:#e6db74>&#39;/tarragon&#39;</span>,
</span></span><span style=display:flex><span>                            <span style=color:#e6db74>&#39;text&#39;</span> <span style=color:#f92672>=&gt;</span> <span style=color:#e6db74>&#39;Tarragon&#39;</span>,
</span></span><span style=display:flex><span>                        ],
</span></span><span style=display:flex><span>                    ]
</span></span><span style=display:flex><span>                ],
</span></span><span style=display:flex><span>                [
</span></span><span style=display:flex><span>                    <span style=color:#e6db74>&#39;title&#39;</span> <span style=color:#f92672>=&gt;</span> <span style=color:#e6db74>&#39;Leafy Greens&#39;</span>,
</span></span><span style=display:flex><span>                    <span style=color:#e6db74>&#39;items&#39;</span> <span style=color:#f92672>=&gt;</span> [
</span></span><span style=display:flex><span>                        [
</span></span><span style=display:flex><span>                            <span style=color:#e6db74>&#39;link&#39;</span> <span style=color:#f92672>=&gt;</span> <span style=color:#e6db74>&#39;/bokchoi&#39;</span>,
</span></span><span style=display:flex><span>                            <span style=color:#e6db74>&#39;text&#39;</span> <span style=color:#f92672>=&gt;</span> <span style=color:#e6db74>&#39;Bokchoi&#39;</span>,
</span></span><span style=display:flex><span>                        ],
</span></span><span style=display:flex><span>                        [
</span></span><span style=display:flex><span>                            <span style=color:#e6db74>&#39;link&#39;</span> <span style=color:#f92672>=&gt;</span> <span style=color:#e6db74>&#39;/arugula&#39;</span>,
</span></span><span style=display:flex><span>                            <span style=color:#e6db74>&#39;text&#39;</span> <span style=color:#f92672>=&gt;</span> <span style=color:#e6db74>&#39;Arugula&#39;</span>,
</span></span><span style=display:flex><span>                        ],
</span></span><span style=display:flex><span>                        [
</span></span><span style=display:flex><span>                            <span style=color:#e6db74>&#39;link&#39;</span> <span style=color:#f92672>=&gt;</span> <span style=color:#e6db74>&#39;/pechay&#39;</span>,
</span></span><span style=display:flex><span>                            <span style=color:#e6db74>&#39;text&#39;</span> <span style=color:#f92672>=&gt;</span> <span style=color:#e6db74>&#39;Pechay&#39;</span>,
</span></span><span style=display:flex><span>                        ],
</span></span><span style=display:flex><span>                        [
</span></span><span style=display:flex><span>                            <span style=color:#e6db74>&#39;link&#39;</span> <span style=color:#f92672>=&gt;</span> <span style=color:#e6db74>&#39;/lettuce&#39;</span>,
</span></span><span style=display:flex><span>                            <span style=color:#e6db74>&#39;text&#39;</span> <span style=color:#f92672>=&gt;</span> <span style=color:#e6db74>&#39;Lettuce&#39;</span>,
</span></span><span style=display:flex><span>                        ],
</span></span><span style=display:flex><span>                    ]
</span></span><span style=display:flex><span>                ]
</span></span><span style=display:flex><span>            ]
</span></span><span style=display:flex><span>        ]);
</span></span><span style=display:flex><span>       
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>To run this. Be sure you have the following on your <code>composer.json</code> file then run <code>composer dump-autoload</code>:</p><pre tabindex=0><code>&#34;autoload&#34;: {
    &#34;psr-4&#34;: {
        &#34;CompositePattern\\App\\&#34;: &#34;compositepattern/app/&#34;
    }
},
</code></pre><p>Also install phpunit (<code>composer require phpunit/phpunit</code>) if you haven&rsquo;t done so already.</p><p>Then you can run the tests:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>vendor/bin/phpunit compositepattern/CompositePattern.php
</span></span></code></pre></div><p>That&rsquo;s all there is to it to the Composite pattern. Whenever you find yourself working on tree or tree-like structures on your code, try to see if this pattern fits.</p><p>You can find the source code used in this tutorial on this <a href=https://github.com/anchetaWern/php-design-patterns>GitHub repo</a>.</p></section><nav class="mt-24 flex rounded-lg bg-black/[3%] p-1.5 text-lg dark:bg-white/[8%]"><a class="ml-auto flex w-1/2 items-center justify-end rounded-md p-6 pl-3 no-underline hover:bg-black/[2%]" href=https://anchetaWern.github.io/posts/null-object-pattern-in-php/><span>PHP Design Patterns: Null Object Pattern</span><span class=ml-1.5>→</span></a></nav></article></main><footer class="opaco mx-auto flex h-[5rem] max-w-3xl items-center px-8 text-[0.9em] opacity-60"><div class=mr-auto>&copy; 2023
<a class=link href=https://anchetaWern.github.io/>Wern Ancheta</a></div><a class="link mx-6" href=https://gohugo.io/ rel=noopener target=_blank>Powered by Hugo️️</a>️
<a class=link href=https://github.com/nanxiaobei/hugo-paper rel=noopener target=_blank>▷ Paper 6</a></footer></body></html>