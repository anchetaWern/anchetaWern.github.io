<!doctype html><html class="not-ready text-sm lg:text-base" style=--bg:#faf6f1 lang=en-us><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><title>Getting Started with Laravel Facades - Wern Ancheta</title><meta name=theme-color><meta name=description content="Facades in Laravel allows you to call non-static methods as if they were static methods. This makes it possible for you to call methods in certain classes without the need for creating an object everytime you use them. It basically has the same benefit of using the service container.
Before we look into how we can implement our own Facades with Laravel, let&rsquo;s first take a look at a few examples on how Laravel uses Facades."><meta name=author content="Wern Ancheta"><link rel="preload stylesheet" as=style href=https://anchetaWern.github.io/main.min.css><link rel=preload as=image href=https://anchetaWern.github.io/theme.png><link rel=preload as=image href=https://anchetaWern.github.io/twitter.svg><link rel=preload as=image href=https://anchetaWern.github.io/github.svg><link rel=preload as=image href=https://anchetaWern.github.io/instagram.svg><link rel=preload as=image href=https://anchetaWern.github.io/rss.svg><link rel=icon href=https://anchetaWern.github.io/favicon.ico><link rel=apple-touch-icon href=https://anchetaWern.github.io/apple-touch-icon.png><meta name=generator content="Hugo 0.109.0"><meta property="og:title" content="Getting Started with Laravel Facades"><meta property="og:description" content="Facades in Laravel allows you to call non-static methods as if they were static methods. This makes it possible for you to call methods in certain classes without the need for creating an object everytime you use them. It basically has the same benefit of using the service container.
Before we look into how we can implement our own Facades with Laravel, let&rsquo;s first take a look at a few examples on how Laravel uses Facades."><meta property="og:type" content="article"><meta property="og:url" content="https://anchetaWern.github.io/posts/getting-started-with-laravel-facades/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2021-08-30T00:00:00+00:00"><meta property="article:modified_time" content="2021-08-30T00:00:00+00:00"><meta itemprop=name content="Getting Started with Laravel Facades"><meta itemprop=description content="Facades in Laravel allows you to call non-static methods as if they were static methods. This makes it possible for you to call methods in certain classes without the need for creating an object everytime you use them. It basically has the same benefit of using the service container.
Before we look into how we can implement our own Facades with Laravel, let&rsquo;s first take a look at a few examples on how Laravel uses Facades."><meta itemprop=datePublished content="2021-08-30T00:00:00+00:00"><meta itemprop=dateModified content="2021-08-30T00:00:00+00:00"><meta itemprop=wordCount content="560"><meta itemprop=keywords content><meta name=twitter:card content="summary"><meta name=twitter:title content="Getting Started with Laravel Facades"><meta name=twitter:description content="Facades in Laravel allows you to call non-static methods as if they were static methods. This makes it possible for you to call methods in certain classes without the need for creating an object everytime you use them. It basically has the same benefit of using the service container.
Before we look into how we can implement our own Facades with Laravel, let&rsquo;s first take a look at a few examples on how Laravel uses Facades."></head><body class="text-black duration-200 ease-out dark:text-white"><header class="mx-auto flex h-[5rem] max-w-3xl px-8 lg:justify-center"><div class="relative z-50 mr-auto flex items-center"><a class="-translate-x-[1px] -translate-y-0.5 text-3xl font-bold" href=https://anchetaWern.github.io/>Wern Ancheta</a>
<a class="btn-dark ml-6 h-6 w-6 shrink-0 cursor-pointer [background:url(./theme.svg)_left_center/cover_no-repeat] dark:invert dark:[background-position:right]"></a></div><a class="btn-menu relative z-50 -mr-8 flex h-[5rem] w-[5rem] shrink-0 cursor-pointer flex-col items-center justify-center gap-2.5 lg:hidden"></a>
<script>const htmlClass=document.documentElement.classList;setTimeout(()=>{htmlClass.remove("not-ready")},10);const btnMenu=document.querySelector(".btn-menu");btnMenu.addEventListener("click",()=>{htmlClass.toggle("open")});const metaTheme=document.querySelector('meta[name="theme-color"]'),lightBg=`"#faf6f1"`.replace(/"/g,""),setDark=e=>{metaTheme.setAttribute("content",e?"#000":lightBg),htmlClass[e?"add":"remove"]("dark"),localStorage.setItem("dark",e)},darkScheme=window.matchMedia("(prefers-color-scheme: dark)");if(htmlClass.contains("dark"))setDark(!0);else{const e=localStorage.getItem("dark");setDark(e?e==="true":darkScheme.matches)}darkScheme.addEventListener("change",e=>{setDark(e.matches)});const btnDark=document.querySelector(".btn-dark");btnDark.addEventListener("click",()=>{setDark(localStorage.getItem("dark")!=="true")})</script><div class="nav-wrapper fixed inset-x-0 top-full z-40 flex h-full select-none flex-col justify-center pb-16 duration-200 dark:bg-black lg:static lg:h-auto lg:flex-row lg:!bg-transparent lg:pb-0 lg:transition-none"><nav class="mt-12 flex justify-center space-x-10 dark:invert lg:mt-0 lg:ml-12 lg:items-center lg:space-x-6"><a class="h-8 w-8 [background:var(--url)_center_center/cover_no-repeat] lg:h-6 lg:w-6" style=--url:url(./twitter.svg) href=https://twitter.com/wernancheta target=_blank></a>
<a class="h-8 w-8 [background:var(--url)_center_center/cover_no-repeat] lg:h-6 lg:w-6" style=--url:url(./github.svg) href=https://github.com/anchetaWern target=_blank></a>
<a class="h-8 w-8 [background:var(--url)_center_center/cover_no-repeat] lg:h-6 lg:w-6" style=--url:url(./instagram.svg) href=https://instagram.com/wernancheta target=_blank></a>
<a class="h-8 w-8 [background:var(--url)_center_center/cover_no-repeat] lg:h-6 lg:w-6" style=--url:url(./rss.svg) href=https://anchetaWern.github.io/index.xml target=_blank></a></nav></div></header><main class="prose prose-neutral relative mx-auto min-h-[calc(100%-10rem)] max-w-3xl px-8 pt-20 pb-32 dark:prose-invert"><article><header class=mb-20><h1 class="!my-0 pb-2.5">Getting Started with Laravel Facades</h1><div class="text-sm opacity-60"><time>Aug 30, 2021</time>
<span class=mx-1>&#183;</span>
<span>Wern Ancheta</span></div></header><section><p>Facades in Laravel allows you to call non-static methods as if they were static methods. This makes it possible for you to call methods in certain classes without the need for creating an object everytime you use them. It basically has the same benefit of using the service container.</p><p>Before we look into how we can implement our own Facades with Laravel, let&rsquo;s first take a look at a few examples on how Laravel uses Facades.</p><p>The Laravel framework stores its Facades in the <code>vendor/laravel/frameworks/src/Illuminate/Support/Facades</code> directory. There you will see familiar one&rsquo;s such as <code>DB.php</code>, <code>View.php</code>, <code>Validator.php</code>, and <code>Request.php</code>. If you open any of these files, you will see some code which looks like the following:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>DB</span> <span style=color:#66d9ef>extends</span> <span style=color:#a6e22e>Facade</span>
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>   
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>protected</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>function</span> <span style=color:#a6e22e>getFacadeAccessor</span>()
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#e6db74>&#39;db&#39;</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>This class extends the <code>Facade</code> class (<code>Facade.php</code> in the same directory). If you open that up, you&rsquo;ll see a bunch of methods for testing purposes. We&rsquo;re not gonna go over those today. Instead, we&rsquo;ll focus on the <code>__callStatic</code> method. What this methos does is call the <code>getFacadeAccesor()</code> method in the extending class (e.g the <code>DB</code> class) and resolves an instance of the class being returned by that method. In this case, it&rsquo;s the <code>db</code> class.</p><p>That sounds really confusing even if you tried tracing through the method calls in the base <code>Facade</code> class. So let&rsquo;s go through a simpler example first.</p><p>Create an <code>app/ShowName.php</code> file and add the following:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#f92672>&lt;?</span><span style=color:#a6e22e>php</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>namespace</span> <span style=color:#a6e22e>App</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>ShowName</span> {
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>function</span> __callStatic($method, $arguments)
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>dd</span>($method);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Then in your <code>routes/web.php</code> file, add the following route.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#a6e22e>Route</span><span style=color:#f92672>::</span><span style=color:#a6e22e>get</span>(<span style=color:#e6db74>&#39;show&#39;</span>, <span style=color:#66d9ef>function</span>(<span style=color:#a6e22e>App\ShowName</span> $obj) {
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    $obj<span style=color:#f92672>::</span><span style=color:#a6e22e>someMethodName</span>(<span style=color:#e6db74>&#39;cat&#39;</span>, <span style=color:#e6db74>&#39;dog&#39;</span>);
</span></span><span style=display:flex><span>});
</span></span></code></pre></div><p>That should then output &ldquo;somemethodName&rdquo; or whatever method you called.</p><p>You can also get access to the arguments passed to the method from here:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#a6e22e>dd</span>($arguments);
</span></span></code></pre></div><p>That should then show the following output:</p><pre tabindex=0><code>array:2 [▼
  0 =&gt; &#34;cat&#34;
  1 =&gt; &#34;dog&#34;
]
</code></pre><p>That&rsquo;s the basic idea behind how Facades work. The Facade has this <code>__callStatic()</code> method which then resolves the underlying from the service container. This means that Facades aren&rsquo;t really a replacement to using the service container. It&rsquo;s a supplement to make methods even more easier to call.</p><p>Now that you know how Facades work behind the scenes, let&rsquo;s now try to implement one ourselves.</p><p>Open the <code>app/ShowName.php</code> file from earlier and update the <code>__callStatic()</code> method with the following:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>function</span> __callStatic($method, $arguments)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> (<span style=color:#a6e22e>self</span><span style=color:#f92672>::</span><span style=color:#a6e22e>resolveFacade</span>(<span style=color:#e6db74>&#39;ShowName&#39;</span>))<span style=color:#f92672>-&gt;</span>$method(<span style=color:#f92672>...</span>$arguments);
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Then add this method:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>function</span> <span style=color:#a6e22e>resolveFacade</span>($name)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>app</span>()[$name];
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>This method resolves the specific class from the service container. This will only work if you bind the Facade in your app service provider:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#75715e>// app/Providers/AppServiceProvider.php
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span>$this<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>app</span><span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>bind</span>(<span style=color:#e6db74>&#39;ShowName&#39;</span>, <span style=color:#66d9ef>function</span> () {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>ShowNameService</span>;
</span></span><span style=display:flex><span>});
</span></span></code></pre></div><p>The <code>ShowNameService</code> contains the following:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#f92672>&lt;?</span><span style=color:#a6e22e>php</span>
</span></span><span style=display:flex><span><span style=color:#75715e>// app/Services/ShowNameService.php
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>namespace</span> <span style=color:#a6e22e>App\Services</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>ShowNameService</span> {
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>function</span> <span style=color:#a6e22e>hello</span>($name)
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#e6db74>&#39;hello &#39;</span> <span style=color:#f92672>.</span> $name;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Next, open your <code>config/app.php</code> file and add a new item to the <code>aliases</code> array.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#e6db74>&#39;aliases&#39;</span> <span style=color:#f92672>=&gt;</span> [
</span></span><span style=display:flex><span>    <span style=color:#75715e>// ...
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#e6db74>&#39;ShowName&#39;</span> <span style=color:#f92672>=&gt;</span> <span style=color:#a6e22e>App\ShowName</span><span style=color:#f92672>::</span><span style=color:#a6e22e>class</span>, <span style=color:#75715e>// add this
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>],
</span></span></code></pre></div><p>Once that&rsquo;s done, you should now be able to call methods from the <code>ShowNameService</code> class using the <code>ShowName</code> facade.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#a6e22e>Route</span><span style=color:#f92672>::</span><span style=color:#a6e22e>get</span>(<span style=color:#e6db74>&#39;hello&#39;</span>, <span style=color:#66d9ef>function</span>() {
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>ShowName</span><span style=color:#f92672>::</span><span style=color:#a6e22e>hello</span>(<span style=color:#e6db74>&#39;cat&#39;</span>); <span style=color:#75715e>// outputs: &#34;hello cat&#34;
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>});
</span></span></code></pre></div><p>If you then add a new method on your <code>ShowNameService</code> class:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>function</span> <span style=color:#a6e22e>hi</span>($name)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#e6db74>&#39;hi &#39;</span> <span style=color:#f92672>.</span> $name;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>You should still be able to call it through the Facade:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#a6e22e>ShowName</span><span style=color:#f92672>::</span><span style=color:#a6e22e>hi</span>(<span style=color:#e6db74>&#39;cat&#39;</span>); <span style=color:#75715e>// outputs: &#34;hi cat&#34;
</span></span></span></code></pre></div></section><nav class="mt-24 flex rounded-lg bg-black/[3%] p-1.5 text-lg dark:bg-white/[8%]"><a class="ml-auto flex w-1/2 items-center justify-end rounded-md p-6 pl-3 no-underline hover:bg-black/[2%]" href=https://anchetaWern.github.io/posts/a-primer-to-service-container-in-laravel/><span>A Primer to Service Container in Laravel</span><span class=ml-1.5>→</span></a></nav></article></main><footer class="opaco mx-auto flex h-[5rem] max-w-3xl items-center px-8 text-[0.9em] opacity-60"><div class=mr-auto>&copy; 2022
<a class=link href=https://anchetaWern.github.io/>Wern Ancheta</a></div><a class="link mx-6" href=https://gohugo.io/ rel=noopener target=_blank>Powered by Hugo️️</a>️
<a class=link href=https://github.com/nanxiaobei/hugo-paper rel=noopener target=_blank>▷ Paper 6</a></footer></body></html>