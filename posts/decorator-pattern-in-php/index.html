<!doctype html><html class="not-ready text-sm lg:text-base" style=--bg:#faf6f1 lang=en-us><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><title>PHP Design Patterns: Decorator Pattern - Wern Ancheta</title><meta name=theme-color><meta name=description content="This is the first post in a series of articles that will walk you through how to implement design patterns in PHP.
In this post, we&rsquo;ll take a look at how you can implement the decorator pattern in PHP. You can use the decorator pattern to change or adjust the behavior of an existing object.
To quickly understand how the decorator pattern works, we will use a customizable product as an example."><meta name=author content="Wern Ancheta"><link rel="preload stylesheet" as=style href=https://anchetaWern.github.io/main.min.css><link rel=preload as=image href=https://anchetaWern.github.io/theme.png><link rel=preload as=image href=https://anchetaWern.github.io/twitter.svg><link rel=preload as=image href=https://anchetaWern.github.io/github.svg><link rel=preload as=image href=https://anchetaWern.github.io/instagram.svg><link rel=preload as=image href=https://anchetaWern.github.io/rss.svg><link rel=icon href=https://anchetaWern.github.io/favicon.ico><link rel=apple-touch-icon href=https://anchetaWern.github.io/apple-touch-icon.png><meta name=generator content="Hugo 0.109.0"><meta property="og:title" content="PHP Design Patterns: Decorator Pattern"><meta property="og:description" content="This is the first post in a series of articles that will walk you through how to implement design patterns in PHP.
In this post, we&rsquo;ll take a look at how you can implement the decorator pattern in PHP. You can use the decorator pattern to change or adjust the behavior of an existing object.
To quickly understand how the decorator pattern works, we will use a customizable product as an example."><meta property="og:type" content="article"><meta property="og:url" content="https://anchetaWern.github.io/posts/decorator-pattern-in-php/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-01-08T00:00:00+00:00"><meta property="article:modified_time" content="2022-01-08T00:00:00+00:00"><meta itemprop=name content="PHP Design Patterns: Decorator Pattern"><meta itemprop=description content="This is the first post in a series of articles that will walk you through how to implement design patterns in PHP.
In this post, we&rsquo;ll take a look at how you can implement the decorator pattern in PHP. You can use the decorator pattern to change or adjust the behavior of an existing object.
To quickly understand how the decorator pattern works, we will use a customizable product as an example."><meta itemprop=datePublished content="2022-01-08T00:00:00+00:00"><meta itemprop=dateModified content="2022-01-08T00:00:00+00:00"><meta itemprop=wordCount content="613"><meta itemprop=keywords content><meta name=twitter:card content="summary"><meta name=twitter:title content="PHP Design Patterns: Decorator Pattern"><meta name=twitter:description content="This is the first post in a series of articles that will walk you through how to implement design patterns in PHP.
In this post, we&rsquo;ll take a look at how you can implement the decorator pattern in PHP. You can use the decorator pattern to change or adjust the behavior of an existing object.
To quickly understand how the decorator pattern works, we will use a customizable product as an example."></head><body class="text-black duration-200 ease-out dark:text-white"><header class="mx-auto flex h-[5rem] max-w-3xl px-8 lg:justify-center"><div class="relative z-50 mr-auto flex items-center"><a class="-translate-x-[1px] -translate-y-0.5 text-3xl font-bold" href=https://anchetaWern.github.io/>Wern Ancheta</a>
<a class="btn-dark ml-6 h-6 w-6 shrink-0 cursor-pointer [background:url(./theme.svg)_left_center/cover_no-repeat] dark:invert dark:[background-position:right]"></a></div><a class="btn-menu relative z-50 -mr-8 flex h-[5rem] w-[5rem] shrink-0 cursor-pointer flex-col items-center justify-center gap-2.5 lg:hidden"></a>
<script>const htmlClass=document.documentElement.classList;setTimeout(()=>{htmlClass.remove("not-ready")},10);const btnMenu=document.querySelector(".btn-menu");btnMenu.addEventListener("click",()=>{htmlClass.toggle("open")});const metaTheme=document.querySelector('meta[name="theme-color"]'),lightBg=`"#faf6f1"`.replace(/"/g,""),setDark=e=>{metaTheme.setAttribute("content",e?"#000":lightBg),htmlClass[e?"add":"remove"]("dark"),localStorage.setItem("dark",e)},darkScheme=window.matchMedia("(prefers-color-scheme: dark)");if(htmlClass.contains("dark"))setDark(!0);else{const e=localStorage.getItem("dark");setDark(e?e==="true":darkScheme.matches)}darkScheme.addEventListener("change",e=>{setDark(e.matches)});const btnDark=document.querySelector(".btn-dark");btnDark.addEventListener("click",()=>{setDark(localStorage.getItem("dark")!=="true")})</script><div class="nav-wrapper fixed inset-x-0 top-full z-40 flex h-full select-none flex-col justify-center pb-16 duration-200 dark:bg-black lg:static lg:h-auto lg:flex-row lg:!bg-transparent lg:pb-0 lg:transition-none"><nav class="mt-12 flex justify-center space-x-10 dark:invert lg:mt-0 lg:ml-12 lg:items-center lg:space-x-6"><a class="h-8 w-8 [background:var(--url)_center_center/cover_no-repeat] lg:h-6 lg:w-6" style=--url:url(./twitter.svg) href=https://twitter.com/wernancheta target=_blank></a>
<a class="h-8 w-8 [background:var(--url)_center_center/cover_no-repeat] lg:h-6 lg:w-6" style=--url:url(./github.svg) href=https://github.com/anchetaWern target=_blank></a>
<a class="h-8 w-8 [background:var(--url)_center_center/cover_no-repeat] lg:h-6 lg:w-6" style=--url:url(./instagram.svg) href=https://instagram.com/wernancheta target=_blank></a>
<a class="h-8 w-8 [background:var(--url)_center_center/cover_no-repeat] lg:h-6 lg:w-6" style=--url:url(./rss.svg) href=https://anchetaWern.github.io/index.xml target=_blank></a></nav></div></header><main class="prose prose-neutral relative mx-auto min-h-[calc(100%-10rem)] max-w-3xl px-8 pt-20 pb-32 dark:prose-invert"><article><header class=mb-20><h1 class="!my-0 pb-2.5">PHP Design Patterns: Decorator Pattern</h1><div class="text-sm opacity-60"><time>Jan 8, 2022</time>
<span class=mx-1>&#183;</span>
<span>Wern Ancheta</span></div></header><section><p>This is the first post in a series of articles that will walk you through how to implement design patterns in PHP.</p><p>In this post, we&rsquo;ll take a look at how you can implement the decorator pattern in PHP.
You can use the decorator pattern to change or adjust the behavior of an existing object.</p><p>To quickly understand how the decorator pattern works, we will use a customizable product as an example.
We will create an interface and it will serve as the contract for which a product or any of its decorators will abide to.
In this case, all products needs to implement a <code>getPrice()</code> method:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#f92672>&lt;?</span><span style=color:#a6e22e>php</span> 
</span></span><span style=display:flex><span><span style=color:#75715e>// decoratorpattern/app/Product.php
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>namespace</span> <span style=color:#a6e22e>App</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>interface</span> <span style=color:#a6e22e>Product</span> 
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>function</span> <span style=color:#a6e22e>getPrice</span>()<span style=color:#f92672>:</span> <span style=color:#a6e22e>float</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Next, we can now create a class for a specific type of <code>Product</code>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#f92672>&lt;?</span><span style=color:#a6e22e>php</span> 
</span></span><span style=display:flex><span><span style=color:#75715e>// decoratorpattern/app/Yoyo.php
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>namespace</span> <span style=color:#a6e22e>App</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Yoyo</span> <span style=color:#66d9ef>implements</span> <span style=color:#a6e22e>Product</span>
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#66d9ef>PRICE</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>10.99</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>function</span> <span style=color:#a6e22e>getPrice</span>()<span style=color:#f92672>:</span> <span style=color:#a6e22e>float</span>
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>self</span><span style=color:#f92672>::</span><span style=color:#a6e22e>PRICE</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Next, we create a decorator for the product type we just created. This is where the bulk of the decorator pattern is implemented:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#f92672>&lt;?</span><span style=color:#a6e22e>php</span> 
</span></span><span style=display:flex><span><span style=color:#75715e>// decoratorpattern/app/YoyoDecorator.php
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>namespace</span> <span style=color:#a6e22e>App</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>abstract</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>YoyoDecorator</span> <span style=color:#66d9ef>implements</span> <span style=color:#a6e22e>Product</span>
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>function</span> __construct(<span style=color:#66d9ef>public</span> <span style=color:#a6e22e>Product</span> $product) {}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>function</span> <span style=color:#a6e22e>getPrice</span>()<span style=color:#f92672>:</span> <span style=color:#a6e22e>float</span>
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> $this<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>product</span><span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>getPrice</span>();
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>In the constructor, you need to accept an instance of a <code>Product</code> as an argument. If you&rsquo;re new to PHP 8, this uses the constructor property promotion syntax. So it&rsquo;s the shorthand for this syntax:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#f92672>&lt;?</span><span style=color:#a6e22e>php</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#a6e22e>Product</span> $product;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>function</span> __construct(<span style=color:#a6e22e>Product</span> $product) 
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    $this<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>product</span> <span style=color:#f92672>=</span> $product;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>This then allows you to return the price of whatever product was passed to this decorator:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#f92672>&lt;?</span><span style=color:#a6e22e>php</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>function</span> <span style=color:#a6e22e>getPrice</span>()<span style=color:#f92672>:</span> <span style=color:#a6e22e>float</span>
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> $this<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>product</span><span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>getPrice</span>();
</span></span><span style=display:flex><span>} 
</span></span></code></pre></div><p>Next, we can now create decorators for our product. In this case, we want to allow users to add a custom bearing to a yoyo. Here we&rsquo;re simply going to add a custom amount to the price of the original product. We have access to the product because it&rsquo;s being passed as an argument to the constructor of the abstract class we&rsquo;re extending from:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#f92672>&lt;?</span><span style=color:#a6e22e>php</span> 
</span></span><span style=display:flex><span><span style=color:#75715e>// decoratorpattern/app/CustomBearing.php
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>namespace</span> <span style=color:#a6e22e>App</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>CustomBearing</span> <span style=color:#66d9ef>extends</span> <span style=color:#a6e22e>YoyoDecorator</span> 
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#66d9ef>BEARING_PRICE</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>2.50</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>function</span> <span style=color:#a6e22e>getPrice</span>()<span style=color:#f92672>:</span> <span style=color:#a6e22e>float</span>
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> $this<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>product</span><span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>getPrice</span>() <span style=color:#f92672>+</span> <span style=color:#a6e22e>self</span><span style=color:#f92672>::</span><span style=color:#a6e22e>BEARING_PRICE</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>} 
</span></span></code></pre></div><p>At this point, we can now test out if the decorator is indeed working. First we verify if the price of the yoyo is correct. Then we apply the custom bearing decorator and see if the price is updated accordingly:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#f92672>&lt;?</span><span style=color:#a6e22e>php</span> 
</span></span><span style=display:flex><span><span style=color:#75715e>// decoratorpattern/DecoratorTest.php
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>require_once</span> <span style=color:#66d9ef>__DIR__</span> <span style=color:#f92672>.</span> <span style=color:#e6db74>&#39;/vendor/autoload.php&#39;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>use</span> <span style=color:#a6e22e>PHPUnit\Framework\TestCase</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>DecoratorTest</span> <span style=color:#66d9ef>extends</span> <span style=color:#a6e22e>TestCase</span>
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>function</span> <span style=color:#a6e22e>test_yoyo_price</span>() <span style=color:#f92672>:</span> <span style=color:#a6e22e>void</span>
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        $yoyo <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>App\Yoyo</span>();
</span></span><span style=display:flex><span>        $this<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>assertEquals</span>($yoyo<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>getPrice</span>(), <span style=color:#ae81ff>10.99</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        $yoyo_with_custom_bearing <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>App\CustomBearing</span>($yoyo);
</span></span><span style=display:flex><span>        $this<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>assertEquals</span>($yoyo_with_custom_bearing<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>getPrice</span>(), <span style=color:#ae81ff>13.49</span>);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>To demonstrate how can we use a combination of different decorators, let&rsquo;s create a couple more decorators:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#f92672>&lt;?</span><span style=color:#a6e22e>php</span> 
</span></span><span style=display:flex><span><span style=color:#75715e>// decoratorpattern/app/Decorators/TransparentCap.php
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>namespace</span> <span style=color:#a6e22e>App</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>TransparentCap</span> <span style=color:#66d9ef>extends</span> <span style=color:#a6e22e>YoyoDecorator</span>
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#66d9ef>TRANSPARENT_CAP_PRICE</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>1.25</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>function</span> <span style=color:#a6e22e>getPrice</span>()<span style=color:#f92672>:</span> <span style=color:#a6e22e>float</span>
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> $this<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>product</span><span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>getPrice</span>() <span style=color:#f92672>+</span> <span style=color:#a6e22e>self</span><span style=color:#f92672>::</span><span style=color:#a6e22e>TRANSPARENT_CAP_PRICE</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>} 
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#f92672>&lt;?</span><span style=color:#a6e22e>php</span> 
</span></span><span style=display:flex><span><span style=color:#75715e>// decoratorpattern/app/Decorators/CustomSpacers.php
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>namespace</span> <span style=color:#a6e22e>App</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>CustomSpacers</span> <span style=color:#66d9ef>extends</span> <span style=color:#a6e22e>YoyoDecorator</span> 
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#66d9ef>SPACER_PRICE</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>5.10</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>function</span> <span style=color:#a6e22e>getPrice</span>()<span style=color:#f92672>:</span> <span style=color:#a6e22e>float</span>
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> $this<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>product</span><span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>getPrice</span>() <span style=color:#f92672>+</span> <span style=color:#a6e22e>self</span><span style=color:#f92672>::</span><span style=color:#a6e22e>SPACER_PRICE</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Here&rsquo;s how you can then use different combinations of decorators:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=display:flex><span><span style=color:#f92672>&lt;?</span><span style=color:#a6e22e>php</span> 
</span></span><span style=display:flex><span><span style=color:#75715e>// decoratorpattern/DecoratorTest.php
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>function</span> <span style=color:#a6e22e>test_yoyo_price</span>() <span style=color:#f92672>:</span> <span style=color:#a6e22e>void</span>
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#75715e>// ...
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span>    $yoyo_with_transparent_cap <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>App\TransparentCap</span>($yoyo);
</span></span><span style=display:flex><span>    $this<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>assertEquals</span>($yoyo_with_transparent_cap<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>getPrice</span>(), <span style=color:#ae81ff>12.24</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    $yoyo_with_custom_bearing_and_transparent_cap <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>App\TransparentCap</span>(<span style=color:#66d9ef>new</span> <span style=color:#a6e22e>App\CustomBearing</span>($yoyo));
</span></span><span style=display:flex><span>    $this<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>assertEquals</span>($yoyo_with_custom_bearing_and_transparent_cap<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>getPrice</span>(), <span style=color:#ae81ff>14.74</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    $yoyo_with_custom_bearing_and_custom_spacers <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>App\CustomSpacers</span>(<span style=color:#66d9ef>new</span> <span style=color:#a6e22e>App\CustomBearing</span>($yoyo));
</span></span><span style=display:flex><span>    $this<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>assertEquals</span>($yoyo_with_custom_bearing_and_custom_spacers<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>getPrice</span>(), <span style=color:#ae81ff>18.59</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    $yoyo_with_custom_bearing_and_custom_spacers_and_transparent_cap <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>App\TransparentCap</span>(<span style=color:#66d9ef>new</span> <span style=color:#a6e22e>App\CustomSpacers</span>(<span style=color:#66d9ef>new</span> <span style=color:#a6e22e>App\CustomBearing</span>($yoyo)));
</span></span><span style=display:flex><span>    $this<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>assertEquals</span>($yoyo_with_custom_bearing_and_custom_spacers_and_transparent_cap<span style=color:#f92672>-&gt;</span><span style=color:#a6e22e>getPrice</span>(), <span style=color:#ae81ff>19.84</span>); 
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>This works because the YoyoDecorator class implements the same interface as the original object that we are working with. So no matter how many decorators we wrap the original object with, it will still allow us to get the correct price.</p><p>You can find the source code used in this tutorial on this <a href=https://github.com/anchetaWern/php-design-patterns>GitHub repo</a>.</p></section><nav class="mt-24 flex rounded-lg bg-black/[3%] p-1.5 text-lg dark:bg-white/[8%]"><a class="ml-auto flex w-1/2 items-center justify-end rounded-md p-6 pl-3 no-underline hover:bg-black/[2%]" href=https://anchetaWern.github.io/posts/getting-started-with-laravel-facades/><span>Getting Started with Laravel Facades</span><span class=ml-1.5>→</span></a></nav></article></main><footer class="opaco mx-auto flex h-[5rem] max-w-3xl items-center px-8 text-[0.9em] opacity-60"><div class=mr-auto>&copy; 2023
<a class=link href=https://anchetaWern.github.io/>Wern Ancheta</a></div><a class="link mx-6" href=https://gohugo.io/ rel=noopener target=_blank>Powered by Hugo️️</a>️
<a class=link href=https://github.com/nanxiaobei/hugo-paper rel=noopener target=_blank>▷ Paper 6</a></footer></body></html>